{"version":3,"sources":["js/lawtext2obj/lawtext2obj.js","js/config.js","js/utility.js","js/LawAPI.js","components/SearchBox.js","components/Catalog.js","components/Law.js","components/App.js","serviceWorker.js","index.js"],"names":["lawtext2obj","stratumRE","getStratum","text","i","length","test","text2paras","warning","lines","trimRight","split","map","str","paras","curPara","firstLineInPara","raw","forEach","line","trimLeft","push","stratum","startsWith","children","lastPara","charAt","arr2nested","arr","minDepth","depthProp","arguments","undefined","item","s","Error","Math","min","j","filter","Object","defineProperties","value","module","exports","config","siteName","basename","errorHandler","_console","console","error","apply","numf","number","p1","toString","slice","p2","concat","numf_reverse","frags","result","parseInt","createFilterFunction","query","yesList","noList","trim","frag","substring","some","indexOf","assign","invertPromise","promise","Promise","res","rej","then","cdns","getData","path","promises","cdn","input","init","cache","resolve","reject","fetch","ok","ReferenceError","statusText","catch","all","json","Map","set","LawAPI","loadCatalog","get","loadLaw","pcode","p","SearchBox","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","isFocused","_this2","className","react_default","a","createElement","type","placeholder","onChange","event","target","onFocus","setState","onBlur","onClick","PureComponent","showBasicSize","Catalog","catalog","renderAmount","sort","b","lastUpdate","_this3","testFunc","showing","law","name","SearchBox_SearchBox","Catalog_CatalogItem","key","CatalogItem","badge","title","Link","to","Law","articles","divisions","flatDivisions","history","match","params","document","window","scroll","div","ancestors","subDiv","splice","toConsumableArray","_this4","isDiscarded","data-toggle","id","aria-haspopup","aria-expanded","aria-labelledby","NavLink","url","exact","activeClassName","href","Switch","Route","routeProps","Law_ArticlesTab","Law_DivisionsTab","Law_History","ArticlesTab","_this5","URLSearchParams","location","search","lawHeader","querySelector","contentHeader","style","top","offsetHeight","offset","querySelectorAll","articleOffset","header","articleElement","paddingTop","marginTop","hash","offsetTop","addEventListener","setStickyElements","scrollToHash","removeEventListener","_this6","_this$props$law","preamble","preambleObj","content","replace","numOrRange","endpoints","find","_showing","_endpoints$map","_endpoints$map2","slicedToArray","start","end","unshift","sections","sec","Law_DivisionHeader","division","Law_Article","article","max","DivisionHeader","divList","Article","_this7","copyContent","bind","assertThisInitialized","navigator","clipboard","_this$props","numText","origin","pathname","writeText","_this$props2","Law_ParaList","items","ParaList","_this8","index","ordinal","Law_Paragraph","reArtNum","Paragraph","counter","pos","exec","ranges","re","mm","mm2","cpi","numberedText","cn","color","DivisionsTab","_this9","History","App","BrowserRouter","component","Boolean","hostname","ReactDOM","render","components_App","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2b7a727e.chunk.js","sourcesContent":["let lawtext2obj;\n\n{\n/**\n * 判斷項款目\n */\nconst stratumRE = [\n    /^(?! )/,\n    /^第[一二三四五六七八九十]+類：/,          // 所得稅法第14條第1項\n    /^\\s*[一二三四五六七八九十]+(、|　| {2})/,  // 憲法裡的「款」有些是全形空格，有些是兩個半形空格\n    /^\\s*[(（][一二三四五六七八九十]+[)）]/, // 有些括號是全形，有些是半形\n    /^\\s+\\d+\\./,\n    /^\\s+[(（]\\d+[)）]/\n];\nconst getStratum = text => {\n    for(let i = stratumRE.length - 1; i >= 0; --i)\n        if(stratumRE[i].test(text)) return i;\n    return -1;\n};\n\n\n/**\n * 處理換行字元排版，輸出一維陣列。\n *\n * 所得稅法第14條第1項那種「類」裡面還有分「段」的，先加個換行然後併進前一個元素裡。\n * 該項第四類各款後還有一段，就會被錯誤地歸到該類第三款裡頭，不過先不管了。\n *\n * 警告類型：（可能會互相覆蓋，但先不管了）\n * * fullLine: 該行雖是句號結尾，所以不知道下一行是否是新的一「項」。\n * * formula: 算式。但未必有等號或分號符號，例如全民健康保險藥物給付項目及支付標準第75條第3款第2目\n *   @see {@link https://unicode-table.com/en/blocks/mathematical-operators/ }\n *   @see {@link https://unicode-table.com/en/blocks/halfwidth-and-fullwidth-forms/ }\n * * table: 表格。例如用戶用電設備裝置規則第62條\n *   @see {@link https://unicode-table.com/en/blocks/box-drawing/ }\n */\nconst text2paras = text => {\n    const lines = text.trimRight().split(\"\\n\").map(str => str.trimRight());\n\n    let paras = []; // 不管層級的項款目陣列\n    let curPara = \"\";   // 處理中的項款目，不含空格，用於輸出\n    let firstLineInPara = \"\"; // 處理中的項款目的第一行原始文字，包含空格，用於判斷層級，以及是不是所得稅法第14條的情形。\n    let warning; // 紀錄可能需要警告的情形，於新的段落時重置。\n    let raw = []; // 紀錄原本是哪幾行字，於有警告的時候一併回傳。\n\n    lines.forEach(line => {\n        if(!curPara) firstLineInPara = line;\n        curPara += line.trimLeft();\n        raw.push(line);\n        if(/[\\u2500-\\u257F]/.test(line)) warning = \"table\";\n        if(/[\\u2200-\\u22FF＊＋－／＜＝＞]/.test(line)) warning = \"formula\";\n\n        // 如果這一行「不是」項款目的結束，那就換下一行處理。\n        if(!/(：|︰|。|（刪除）)$/.test(line)) return;\n\n        /**\n         * 處理「這一個項款目結束了」的情形。\n         * 預設是要將 curPara 當成一個新的項款目塞入，但要先偵測兩種例外情形：\n         * 如果 stratum 小於零，那就是所得稅法第14條那種「類款目」裡頭還分段的情形；\n         * 如果被判斷為「項」並以「但」字開頭，表示是前一個滿行的「項」的但書，例如所得稅法第80條第3項但書。\n         */\n        const stratum = getStratum(firstLineInPara);\n        if(stratum < 0) paras[paras.length - 1].text += \"\\n\" + curPara;\n        else if(stratum === 0 && curPara.startsWith(\"但\")) {\n            paras[paras.length - 1].text += curPara;\n            delete paras[paras.length - 1].warning;\n        }\n        else paras.push({\n            text: curPara,\n            stratum: stratum,\n            children: []\n        });\n\n        const lastPara = paras[paras.length - 1];\n        // 有可能該行雖是句號結尾，但其實還沒有要分項，因此標示警告。例如所得稅法第14-7條第4項。\n        if(!warning && line.length === 32 && line.charAt(31) === \"。\") warning = \"fullLine\";\n        if(warning) {\n            lastPara.warning = warning;\n            lastPara.raw = raw;\n        }\n\n        curPara = \"\";\n        warning = false;\n        raw = [];\n    });\n\n    return paras;\n};\n\n/**\n * 把一維陣列轉成巢狀\n *\n * 方法：把項目塞到「前一個比自己高層級」的 children 裡。\n */\nconst arr2nested = (arr, depthProp = \"stratum\") => {\n    let minDepth;\n    arr.forEach((item, i) => {\n        const s = item[depthProp];\n        if(s < 0) throw new Error(\"分層錯誤\");\n        minDepth = i ? Math.min(minDepth, s) : s;\n        if(s === minDepth) return;\n        for(let j = i - 1; j >= 0; --j)\n            if(arr[j][depthProp] < s) {\n                if(!arr[j].children) arr[j].children = [];\n                arr[j].children.push(item);\n                return;\n            }\n    });\n    // 最後回傳最高層級的陣列，即會有全部。\n    return arr.filter(item => item[depthProp] === minDepth);\n}\n\nlawtext2obj = text => arr2nested(text2paras(text));\nObject.defineProperties(lawtext2obj, {\n    \"stratumRE\": {value: stratumRE},\n    \"getStratum\": {value: getStratum},\n    \"text2paras\": {value: text2paras},\n    \"arr2nested\": {value: arr2nested}\n});\n}\n\nif(typeof module === 'object') module.exports = lawtext2obj;\n//export default lawtext2obj;\n/*\n    如果改成 ES6 方式：\n    * 前端瀏覽器的引用方法需改用 <script type=\"mode\" src=\"lawtext2obj.js\"></script>\n    * Chrome 外掛需將本檔列在 web_accessible_resources ，再用 content_scripts 列的檔案去引入，參閱：\n      * https://stackoverflow.com/questions/48104433/how-to-import-es6-modules-in-content-script-for-chrome-extension/48121629#48121629\n      * https://medium.com/front-end-hacking/es6-modules-in-chrome-extensions-an-introduction-313b3fce955b\n*/\n","const config = {\n  siteName: '法規查詢',\n  basename: '/mojLaw/'\n};\n\nexport default config;\n","export const errorHandler = (...args) =>\n  console.error(...args)\n;\n\n/**\n * Rewrite Fetch API to reject non-ok responses.\n * Reject with a TypeError when a network error is encountered or CORS is misconfigured on the server side.\n * Reject with a ReferenceError if there's a response without OK status.\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#Checking_that_the_fetch_was_successful }\n */\nexport const fetch2 = (input, init) =>\n  new Promise((resolve, reject) =>\n    fetch(input, init)\n    .then(res => res.ok ? resolve(res) : reject(new ReferenceError(res.statusText)))\n    .catch(reject)\n  )\n;\n\n/**\n * @param {integer} milliseconds\n * @returns {Promise} resolves to undefined after specified milliseconds\n */\nexport const wait = milliseconds =>\n  new Promise(resolve => setTimeout(resolve, milliseconds))\n;\n\nexport const numf = number => {\n  if(!number) return '0';\n  const p1 = number.toString().slice(0, -2);\n  const p2 = number % 100;\n  return p2 ? p1.concat('-', p2) : p1;\n};\n\nexport const numf_reverse = text => {\n  const frags = text.split(/[-.]/);\n  let result = parseInt(frags[0]) * 100;\n  if(frags[1]) result += parseInt(frags[1]);\n  return result;\n};\n\n/**\n * @see {@link https://stackoverflow.com/questions/9083037/#answer-32851198 }\n * @see {@link http://blog.stevenlevithan.com/archives/javascript-roman-numeral-converter#comment-16107 }\n */\nexport const romanize = number => {\n  const lookup = {\n    M: 1000, CM: 900, D: 500, CD: 400,\n    C: 100,  XC: 90,  L: 50,  XL: 40,\n    X: 10,   IX: 9,   V: 5,   IV: 4,\n    I: 1\n  };\n  let roman = '';\n  for(let i in lookup) {\n    while(number >= lookup[i]) {\n      roman += i;\n      number -= lookup[i];\n    }\n  }\n  return roman;\n};\n\n/**\n * Create a function that checks whether a string contains a joined-keyword string\n */\nexport const createFilterFunction = query => {\n  const yesList = [], noList = [];\n  query.trim().split(/\\s+/).forEach(frag => {\n    if(frag === '-') return;\n    if(frag.startsWith('-')) noList.push(frag.substring(1));\n    else yesList.push(frag);\n  });\n  const result = text => {\n    if(noList.some(frag => text.indexOf(frag) !== -1)) return false;\n    if(!yesList.length) return true;\n    return yesList.some(frag => text.indexOf(frag) !== -1);\n  };\n  Object.assign(result, {yesList, noList});\n  return result;\n};\n\n/**\n * Invert the polarity of the promise.\n */\nexport const invertPromise = promise =>\n  new Promise((res, rej) => promise.then(rej, res))\n;\n\n/**\n * Get first fulfilled promise\n * Can be assigned to `Promise.any`\n * @see {@link https://stackoverflow.com/questions/39940152/ }\n */\nexport const getFirstFulfilled = promises =>\n  invertPromise(Promise.all(promises.map(invertPromise)))\n;\n","import {\n  fetch2,\n  getFirstFulfilled\n} from './utility';\n\nconst cdns = [\n  //'http://localhost/kong0107/mojLawSplit/json_arrange/',\n  'https://cdn.jsdelivr.net/gh/kong0107/mojLawSplitJSON@arranged/',\n  'https://raw.githubusercontent.com/kong0107/mojLawSplitJSON/arranged/'\n];\n\n/**\n * 同時跟各個 CDN 要資料，只解析第一個成功的。\n */\nconst getData = path =>\n  getFirstFulfilled(\n    cdns.map(cdn => fetch2(cdn + path, {cache: 'no-cache'}))\n  ).then(res => res.json())\n;\n\nconst promises = new Map();\npromises.set('catalog', getData('index.json'));\n\nconst LawAPI = {\n  loadCatalog: () => promises.get('catalog'),\n  loadLaw: pcode => {\n    let p = promises.get(pcode);\n    if(!p) {\n      p = getData(`FalVMingLing/${pcode}.json`);\n      promises.set(pcode, p);\n    }\n    return p;\n  }\n};\n\nexport default LawAPI;\n","import React, {\n  PureComponent\n} from 'react';\n\nimport '../styles/SearchBox.scss';\n\nexport default class SearchBox extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFocused: false\n    }\n  }\n\n  render() {\n    let className = 'SearchBox';\n    if(this.props.className) className += ' ' + this.props.className;\n\n    return (\n      <div className={className}>\n        <i className=\"fas fa-search\" />\n        <div className=\"SearchBox-inputContainer\">\n          <input className=\"SearchBox-input\"\n            type=\"text\"\n            value={this.props.value}\n            placeholder={this.props.placeholder}\n            onChange={event => this.props.onChange(event.target.value)}\n            onFocus={() => this.setState({isFocused: true})}\n            onBlur={() => this.setState({isFocused: false})}\n          />\n          <div className=\"d-none\">not implemented yet</div>\n        </div>\n        <span className={this.props.value ? '' : 'd-none'}\n          onClick={() => this.props.onChange('')}\n        >\n          <i className=\"fas fa-times-circle\" />\n        </span>\n      </div>\n    );\n  }\n}\n","import React, {\n  PureComponent\n} from 'react';\nimport {\n  Link\n} from 'react-router-dom';\n\nimport config from '../js/config';\nimport {\n  errorHandler,\n  createFilterFunction\n} from '../js/utility';\nimport LawAPI from '../js/LawAPI';\nimport SearchBox from './SearchBox';\n\nimport '../styles/Catalog.scss';\n\nconst showBasicSize = 20;\nexport default class Catalog extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      catalog: [],\n      query: '',\n      renderAmount: showBasicSize // 目前能顯示的列表長度\n    };\n  }\n\n  componentDidMount() {\n    LawAPI.loadCatalog()\n    .then(catalog => this.setState(\n      {catalog: catalog.sort((a, b) => b.lastUpdate - a.lastUpdate)}\n    ))\n    .catch(errorHandler);\n  }\n\n  render() {\n    const testFunc = createFilterFunction(this.state.query);\n    const showing = this.state.catalog.filter(law => testFunc(law.name));\n\n    return (\n      <div className=\"Catalog\">\n        <header>\n          <div className=\"title\">{config.siteName}</div>\n          <SearchBox\n            value={this.state.query}\n            onChange={text => this.setState({\n              query: text,\n              renderAmount: showBasicSize\n            })}\n          />\n          <span className=\"Catalog-amount\">\n            {showing.length} 筆資料\n          </span>\n        </header>\n        <ul className=\"Catalog-list\">\n          {showing.slice(0, this.state.renderAmount).map(law =>\n            <CatalogItem key={law.pcode} law={law} />\n          )}\n        </ul>\n        <button type=\"button\"\n          className={showing.length > this.state.renderAmount ? 'btn btn-sm btn-outline-secondary' : 'd-none'}\n          onClick={() => this.setState({renderAmount: this.state.renderAmount + showBasicSize})}\n        >顯示更多</button>\n      </div>\n    );\n  }\n}\n\nclass CatalogItem extends PureComponent {\n  render() {\n    const {law} = this.props;\n\n    let badge;\n    if(law.pcode === 'A0000001' || law.pcode === 'A0000002')\n      badge = <span title=\"憲法\" className=\"badge badge-warning\">憲</span>;\n    else if(/([^辦]法|律|條例|通則)$/.test(law.name))\n      /**\n       * 應該也要排除「自治條例」，但 FireFox 和 IE 看不懂 (?<!y)x 規則，幸好全國法規資料庫也沒有自治條例。\n       * 注意因為有「動物傳染病防治條例」和「妨害國幣懲治條例」，所以不能用 /[^自][^治]條例$/ 。\n       */\n      badge = <span title=\"法律\" className=\"badge badge-primary\">法</span>;\n    else badge = <span title=\"命令\" className=\"badge badge-success\">令</span>;\n\n    return (\n      <li className=\"CatalogItem\">\n        <Link className=\"CatalogItem-link\" to={`/laws/${law.pcode}`}>\n          {badge}\n          <time className=\"CatalogItem-lastUpdate\" title=\"最新異動日期\">\n            {law.lastUpdate}\n          </time>\n          <div className=\"CatalogItem-name\">{law.name}</div>\n        </Link>\n      </li>\n    );\n  }\n}\n","import React, {\n  PureComponent\n} from 'react';\nimport {\n  Route,\n  Switch,\n  Link,\n  NavLink\n} from 'react-router-dom';\nimport cpi from 'chinese-parseint';\n\nimport config from '../js/config';\nimport {\n  errorHandler,\n  createFilterFunction,\n  numf,\n  numf_reverse\n} from '../js/utility';\nimport lawtext2obj from '../js/lawtext2obj';\nimport LawAPI from '../js/LawAPI';\nimport SearchBox from './SearchBox';\n\nimport '../styles/Law.scss';\n\nexport default class Law extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      catalog: [],\n      law: {\n        articles: [],\n        divisions: [],\n        flatDivisions: [],\n        history: []\n      }\n    };\n  }\n\n  componentDidMount() {\n    LawAPI.loadCatalog()\n    .then(catalog => this.setState(\n      {catalog: catalog.sort((a, b) => b.name.length - a.name.length)}\n    ))\n    .catch(errorHandler);\n  }\n\n  componentDidUpdate() {\n    const pcode = this.props.match.params.pcode;\n    if(pcode === this.state.law.pcode) return;\n    LawAPI.loadLaw(this.props.match.params.pcode)\n    .then(law => {\n      document.title = law.title;\n      window.scroll(0, 0); // 否則會停在前一個法規的卷軸位置。\n\n      // 只留下編章節結構樹的葉子\n      const flatDivisions = law.divisions.slice();\n      for(let i = 0; i < flatDivisions.length;) {\n        const div = flatDivisions[i];\n        if(div.children) {\n          const ancestors = (div.ancestors || []).concat(div);\n          div.children.forEach(subDiv => subDiv.ancestors = ancestors);\n          flatDivisions.splice(i, 1, ...div.children);\n        }\n        else ++i;\n      }\n      law.flatDivisions = flatDivisions;\n\n      this.setState({law});\n    })\n    .catch(errorHandler);\n  }\n\n  componentWillUnmount() {\n    document.title = config.siteName;\n  }\n\n  render() {\n    const { match } = this.props;\n    const { law } = this.state;\n\n    return (\n      <div className=\"Law\">\n        <header>\n          <Link className=\"Home-link\" to=\"/\"><i className=\"fas fa-angle-left\" /></Link>\n          <div className=\"Law-title\">\n            {law.title || '讀取中'}\n            {law.isDiscarded && <span className=\"badge badge-danger\">已廢止</span> }\n          </div>\n          <div className=\"d-none Law-headerSearchButton\">\n            <button className=\"btn btn-sm\" type=\"button\">\n              <i className=\"fas fa-search\" />\n            </button>\n          </div>\n          <div className=\"dropdown\">\n            <button className=\"btn btn-sm\" type=\"button\"\n              data-toggle=\"dropdown\" id=\"lawDropdownMenuButton\"\n              aria-haspopup=\"true\" aria-expanded=\"false\"\n            ><i className=\"fas fa-ellipsis-v\" /></button>\n            <div className=\"dropdown-menu dropdown-menu-right\"\n              aria-labelledby=\"lawDropdownMenuButton\"\n            >\n              <div className=\"dropdown-item disabled small\">\n                更新日期：{law.lastUpdate}\n              </div>\n              <NavLink className=\"dropdown-item\"\n                to={match.url} exact\n                activeClassName=\"d-none\"\n              >條文</NavLink>\n              <NavLink className={law.divisions.length ? 'dropdown-item' : 'd-none'}\n                to={`${match.url}/divisions`}\n                activeClassName=\"d-none\"\n              >編章節</NavLink>\n              <NavLink className=\"dropdown-item\"\n                to={`${match.url}/history`}\n                activeClassName=\"d-none\"\n              >沿革</NavLink>\n              <a className=\"dropdown-item\"\n                href={`https://law.moj.gov.tw/LawClass/LawAll.aspx?pcode=${law.pcode}`}\n              >全國法規資料庫<i className=\"pl-1 fas fa-external-link-alt\" /></a>\n            </div>\n          </div>\n        </header>\n        <Switch>\n          <Route path={match.path} exact children={routeProps => <ArticlesTab {...routeProps} law={law} catalog={this.state.catalog} />} />\n          <Route path={`${match.path}/divisions`} children={routeProps => <DivisionsTab {...routeProps} divisions={law.divisions} />} />\n          <Route path={`${match.path}/history`} children={() => <History history={law.history} />} />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nclass ArticlesTab extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: (new URLSearchParams(window.location.search)).get('query') || ''\n    };\n  }\n\n  //設定各 sticky 元素的高度。因法規名稱和章節名稱都可能換行而造成不能把高度寫死。\n  setStickyElements() {\n    const lawHeader = document.querySelector('.Law > header');\n    const contentHeader = document.querySelector('.Law-tabContent > header');\n    contentHeader.style.top = lawHeader.offsetHeight + 'px';\n    const offset = lawHeader.offsetHeight + contentHeader.offsetHeight;\n    document.querySelectorAll('section.Law-division').forEach(div => {\n      let articleOffset = offset;\n      const header = div.querySelector('.DivisionHeader');\n      if(header) {\n        header.style.top = offset + 'px';\n        articleOffset += header.offsetHeight;\n      }\n      /**\n       * 因應法條的 jump link 需求，設定 padding-top 和 margin-top 。\n       * @see {@link http://nicolasgallagher.com/jump-links-and-viewport-positioning/demo/ }\n       */\n      div.querySelectorAll('.Article').forEach(articleElement => {\n        const s = articleElement.style;\n        s.paddingTop = articleOffset + 'px';\n        s.marginTop = `-${articleOffset}px`;\n        articleElement.querySelector('.Article-header').style.top = articleOffset + 'px';\n      });\n    });\n  }\n\n  scrollToHash() {\n    const hash = window.location.hash;\n    if(hash) {\n      const target = document.querySelector(hash);\n      if(target) window.scroll(0, target.offsetTop);\n    }\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.setStickyElements);\n    this.setStickyElements();\n    this.scrollToHash();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.setStickyElements);\n  }\n\n  componentDidUpdate() {\n    this.setStickyElements();\n    this.scrollToHash();\n  }\n\n  render() {\n    const query = this.state.query;\n    const {articles, flatDivisions, preamble} = this.props.law;\n    const preambleObj = preamble && {number: 0, content: preamble};\n\n    let showing = [];\n    if(/^[\\s\\-\\d.~,]+$/.test(query)) {\n      // 列出條號的情形，要把字串拆回數字再比對\n      query.replace(/\\s+/g, '').split(',').forEach(numOrRange => {\n        const endpoints = numOrRange.split('~');\n        if(endpoints.length === 1) {\n          if(preamble && numOrRange === '0') showing.push(preambleObj);\n          else {\n            const target = articles.find(a => a.number === numf_reverse(numOrRange));\n            if(target) showing.push(target);\n          }\n        }\n        else {\n          const [start, end] = endpoints.map(numf_reverse);\n          if(preamble && start === 0) showing.unshift(preambleObj);\n          showing.push(...articles.filter(a => a.number >= start && a.number <= end));\n        }\n        showing.sort((a, b) => a.number - b.number);\n      });\n    }\n    else {\n      const testFunc = createFilterFunction(query);\n      showing = this.props.law.articles.filter(a => testFunc(a.content));\n      if(preamble && testFunc(preamble)) showing.unshift(preambleObj);\n    }\n\n    const sections = [];\n    flatDivisions.forEach(div => {\n      const articles = showing.filter(a => a.number >= div.start && a.number <= div.end);\n      if(!articles.length) return;\n      sections.push(Object.assign({articles}, div));\n    });\n    if(!flatDivisions.length) sections.push({articles: showing});\n    else if(showing.length && !showing[0].number) // 前言\n      sections.unshift({articles: [showing[0]]});\n\n    return (\n      <div className=\"Law-tabContent\">\n        <header>\n          <SearchBox\n            placeholder=\"法條搜尋\"\n            value={query}\n            onChange={text => {\n              this.setState({query: text});\n              window.scroll(0, 0);\n            }}\n          />\n          <span className=\"Law-articlesAmount\">\n            {showing.length} 筆資料\n          </span>\n        </header>\n        <main>\n          <div className=\"Law-articlesContainer\">\n            {sections.map(sec =>\n              <section key={sec.type + sec.start} className=\"Law-division\">\n                <DivisionHeader division={sec} />\n                {sec.articles.map(a => <Article key={a.number.toString()} {...this.props} article={a} />)}\n              </section>\n            )}\n          </div>\n          <div className={showing.length > 2 ? 'Law-articlesSliderContainer d-print-none' : 'd-none'}>\n            <input type=\"range\" min=\"0\" max={showing.length - 1}\n              onChange={event => {\n                const articles = document.querySelectorAll('.Article');\n                window.scroll(0, articles[event.target.value].offsetTop);\n              }}\n            />\n          </div>\n        </main>\n      </div>\n    );\n  }\n}\n\nclass DivisionHeader extends PureComponent {\n  render() {\n    const {division} = this.props;\n    if(!division.title) return null;\n    const ancestors = division.ancestors || [];\n    const divList = [...ancestors, division];\n    return (\n      <div className=\"DivisionHeader\">\n        {divList.map(div =>\n          <div key={div.type + div.start} className=\"DivisionHeader-part\">\n            <div className=\"DivisionHeader-partNumber\">第 {numf(div.number)} {div.type}</div>\n            <div className=\"DivisionHeader-partTitle\">{div.title}</div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nclass Article extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.copyContent = this.copyContent.bind(this);\n  }\n\n  copyContent() {\n    if(!navigator.clipboard) return;\n    const {article, law} = this.props;\n    const numText = numf(article.number);\n    const result = law.title + ' '\n      + (article.number ? `第 ${numText} 條` : '前言') + '\\n'\n      + article.content\n      + `\\n${window.location.origin}${window.location.pathname}?query=${numText}`\n    ;\n    navigator.clipboard.writeText(result);\n  }\n\n\n  render() {\n    const {article, law} = this.props;\n    const numText = numf(article.number);\n    return (\n      <dl className=\"Article\" id={`article${numText}`}>\n        <dt className=\"Article-header\">\n          <span className=\"Article-number\">{article.number ? `第 ${numText} 條` : '前言'}</span>\n          <div className=\"dropleft dropdown\">\n            <button className=\"btn btn-sm\" type=\"button\"\n              data-toggle=\"dropdown\" id={`articleDropdownButton${numText}`}\n              aria-haspopup=\"true\" aria-expanded=\"false\"\n            ><i className=\"fas fa-ellipsis-v\" /></button>\n            <div className=\"dropdown-menu dropdown-menu-right\" aria-labelledby={`articleDropdownButton${numText}`}>\n              <Link className=\"dropdown-item\" to={`${this.props.match.url}?query=${numText}`}>法條連結</Link>\n              <button className=\"dropdown-item\" onClick={this.copyContent}\n              >複製內文</button>\n              <a className=\"dropdown-item\"\n                href={`https://law.moj.gov.tw/LawClass/LawSingle.aspx?pcode=${law.pcode}&flno=${numText}`}\n              >全國法規資料庫<i className=\"pl-1 fas fa-external-link-alt\" /></a>\n            </div>\n          </div>\n        </dt>\n        <dd className=\"Article-content\">\n          <ParaList {...this.props} items={lawtext2obj(article.content)} />\n        </dd>\n      </dl>\n    );\n  }\n}\n\nclass ParaList extends PureComponent {\n  render() {\n    const {items} = this.props;\n    if(!items.length) return null;\n    const stratum = items[0].stratum;\n\n    const children = items.map((item, index) => {\n      let ordinal = '', text = item.text;\n      if(stratum) {\n        const match = text.match(/^[第（()]?[\\d一二三四五六七八九十]+(類：|[)）、.])?\\s*/);\n        if(match) {\n          ordinal = match[0].trim();\n          if(/^[一二三四五六七八九十]+$/.test(ordinal)) ordinal += '　'; // for 憲法§108\n          text = text.substring(match[0].length);\n        }\n      }\n      return (\n        <li key={index}>\n          <dl>\n            <dt>{ordinal}</dt>\n            <dd>\n              {text.split('\\n').map((p, j) => <Paragraph key={j} {...this.props}>{p}</Paragraph>)}\n              {item.children && <ParaList {...this.props} items={item.children} />}\n            </dd>\n          </dl>\n        </li>\n      );\n    });\n    return <ol className={`ParaList-stratum${stratum}`}>{children}</ol>;\n  }\n}\n\nconst reArtNum = /(第[一二三四五六七八九十百千]+[條項類款目](之[一二三四五六七八九十]+)?)+([、及與或至](第([一二三四五六七八九十百千]+)[條項類款目](之[一二三四五六七八九十]+)?)+)*/;\nclass Paragraph extends PureComponent {\n  render() {\n    //return <p>{this.props.children}</p>;\n\n    const frags = [this.props.children];\n    let counter = 0;\n\n    // 在提及其他法律的地方切斷\n    this.props.catalog.forEach(law => {\n      for(let i = 0; i < frags.length; ++i) {\n        if(typeof frags[i] !== 'string') continue;\n        if(frags[i].length < law.name.length) continue;\n        const pos = frags[i].indexOf(law.name);\n        if(pos === -1) continue;\n\n        // 刪掉原本的，替換成更小的碎片。\n        frags.splice(i, 1,\n          frags[i].substring(0, pos),\n          <Link key={counter++} to={'/laws/' + law.pcode}>{law.name}</Link>,\n          frags[i].substring(pos + law.name.length)\n        );\n      }\n    });\n\n    // 在提及其他法條的地方切斷\n    for(let i = 0; i < frags.length; ++i) {\n      if(typeof frags[i] !== 'string') continue;\n      const match = reArtNum.exec(frags[i]);\n      if(match) {\n        const ranges = [];\n        /**\n         * 分析提到哪些條文\n         * 最後如為 [307, 400, [1003, 1100]]\n         * 則表示第三條之七、第四條、第十條之三至第十一條\n         */\n        // 分析提到哪些條文\n        match[0].split(/[、及與或]/).forEach(s => {\n          const re = /第([一二三四五六七八九十百千]+)條(之([一二三四五六七八九十]+))?/g;\n          const mm = re.exec(s), mm2 = re.exec(s);\n          if(!mm) return; // 沒有提到任何「條」\n          const start = cpi(mm[1]) * 100 + cpi(mm[2] ? mm[3] : 0);\n          if(!mm2) return ranges.push(start); // 只有提到一條\n          const end = cpi(mm2[1]) * 100 + cpi(mm2[2] ? mm2[3] : 0);\n          ranges.push([start, end]); // 提及一個範圍\n        });\n\n        const numberedText = match[0].replace(/[一二三四五六七八九十百千]+/g, cn => ` ${cpi(cn)} `);\n\n        frags.splice(i, 1,\n          frags[i].substring(0, match.index),\n          <span key={counter++} style={{color: 'green'}}>{numberedText}</span>,\n          frags[i].substring(match.index + match[0].length)\n        );\n        ++i;\n      }\n    }\n\n    return <p>{frags}</p>;\n  }\n}\n\n\nclass DivisionsTab extends PureComponent {\n  render() {\n    const {pcode} = this.props.match.params;\n    const children = this.props.divisions.map(div =>\n      <li key={div.type + div.start}>\n        <Link className=\"DivisionItem\"\n          to={`/laws/${pcode}#article${numf(div.start)}`}\n        >\n          <span className=\"DivisionItem-number\">第 {numf(div.number)} {div.type}</span>\n          <div className=\"DivisionItem-contentContainer\">\n            <span className=\"DivisionItem-title\">{div.title}</span>\n            <span className=\"DivisionItem-range\">§§{numf(div.start)}～{numf(div.end)}</span>\n          </div>\n        </Link>\n        {div.children && <DivisionsTab {...this.props} divisions={div.children} />}\n      </li>\n    );\n    return <ol className=\"DivisionList\">{children}</ol>;\n  }\n}\n\nclass History extends PureComponent {\n  render() {\n    const children = this.props.history.map((item, index) =>\n      <li key={index}>{item}</li>\n    );\n    return <ol className=\"History\">{children}</ol>;\n  }\n}\n","import React, {\n  PureComponent\n} from 'react';\n\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch\n} from 'react-router-dom';\n\nimport config from '../js/config';\nimport Catalog from './Catalog';\nimport Law from './Law';\nimport '../styles/App.scss';\n\nclass App extends PureComponent {\n  componentDidMount() {\n    document.title = config.siteName;\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div id=\"main\">\n          <Router basename={config.basename}>\n            <Switch>\n              <Route path=\"/\" exact component={Catalog} />\n              <Route path=\"/laws/:pcode\" component={Law} />\n            </Switch>\n          </Router>\n        </div>\n        <footer>\n          <a href=\"https://github.com/kong0107/mojLaw\">網站原始碼</a>\n          <a href=\"https://github.com/kong0107/mojLawSplitJSON/tree/arranged\">資料來源</a>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}